<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Shadow</title>
  <!-- Stylesheets -->
  <link rel="stylesheet" href="/css/index.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.3.0/css/all.min.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&family=Open+Sans:wght@400;700&display=swap">
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <link rel="icon" href="icons/logo.png" type="image/x-icon">
  <script src="/assets/settings.js"></script>
</head>
<body>
  <!-- Loading Screen -->
  <div id="loading-screen">
    <div class="dot-container">
      <i class="loading-dots"><i class="fa-solid fa-circle"></i></i>
      <i class="loading-dots"><i class="fa-solid fa-circle"></i></i>
      <i class="loading-dots"><i class="fa-solid fa-circle"></i></i>
    </div>
    <p class="loading-text">Loading Shadow Browser</p>
  </div>

  <!-- Tabs Container -->
  <div id="tabs-container">
    <button onclick="tabs.createTab();"id="add-tab" class="control-button" style="font-size: 15px; height: fit-content; margin-top: 7.5px;">
      <i class="fas fa-plus"></i>
    </button>
  </div>

  <!-- Header -->
  <div id="header">
    <button id="back-button" class="control-button" style="margin-left:5px;"><i class="fas fa-arrow-left"></i></button>
    <button id="forward-button" class="control-button"><i class="fas fa-arrow-right"></i></button>
    <button id="refresh-button" class="control-button"><i class="fas fa-redo"></i></button>
    <form id="uv-form" class="inputcontainermain">
      <input type="text" id="search-bar" placeholder="Search or enter a URL" autocomplete="off">
      <input id="uv-search-engine" value="https://www.google.com/search?q=%s" type="hidden" />
    </form>
    <div id="menu-button" class="control-button" style="margin-left: 15px; font-size: 24px;">&#8801;</div>
  </div>

  <!-- Dropdown Menu -->
  <div id="myDropdown" class="dropdown-content" style="display: none">
    <table>
      <tr>
        <td  id="new-tab" onclick='tabs.createTab("shadow:/\/new");'><button data-add-tab><i class="fas fa-plus"></i> New tab</button></td>
      </tr>
    </table>
    <table>
      <tr>
        <td><button data-add-tab onclick="newBookmark()"><i class="fas fa-plus"></i> Add Bookmark</button></td>
      </tr>
    </table>
    <div class="separator"></div>
    <table>
      <tr>
<<<<<<< HEAD
        <td><button data-add-tab onclick='tabs.createTab("shadow:/\/settings")'><i class="fas fa-cog"></i> Settings</button></td>
=======
        <td><button data-add-tab onclick='createTab("discord.gg/goshadow", "/uv/service/hvtr%3A-%2Ffiqcmrf.eg-gmsjafou")'><i class="fa-brands fa-discord"></i> Discord</button></td>
      </tr>
    </table>
    <table>
      <tr>
        <td><button data-add-tab onclick='createTab("Shadow Chat", "chat")'><i class="fa-solid fa-comments"></i> Chat</button></td>
>>>>>>> refs/remotes/origin/main
      </tr>
    </table>
    <table>
      <tr>
        <td><button data-add-tab onclick='tabs.createTab("shadow:/\/extensions")'><i class="fa-solid fa-puzzle-piece"></i> Extensions</button></td>
      </tr>
    </table>
    <table>
      <tr>
<<<<<<< HEAD
        <td><button data-add-tab onclick='tabs.createTab("shadow:/\/chat")'><i class="fa-solid fa-comments"></i> Chat</button></td>
      </tr>
    </table>
    <table>
      <tr>
        <td><button data-add-tab onclick='tabs.createTab("discord.gg/goshadow")'><i class="fa-brands fa-discord"></i> Discord</button></td>
=======
        <td><button data-add-tab onclick='createTab("Settings", "/settings", "https\:/\/cdn-icons-png.flaticon.com/512/126/126472.png");'><i class="fas fa-cog"></i> Settings</button></td>
>>>>>>> refs/remotes/origin/main
      </tr>
    </table>
    <div class="separator"></div>
    <table>
      <tr>
        <td><button data-add-tab onclick="iframefullscreen()"><i class="fas fa-expand-arrows-alt"></i> Fullscreen</button></td>
      </tr>
    </table>
    <table>
      <tr>
        <td><button data-add-tab onclick="abtblank()"><i class="fas fa-sign-out-alt"></i> Open About:Blank</button></td>
      </tr>
    </table>
    <table>
      <tr>
        <td><button data-add-tab onclick="iframeabtblank()"><i class="fas fa-sign-out-alt"></i> Open Tab in Abt:Blank</button></td>
      </tr>
    </table>
    <table>
      <tr>
        <td><button data-add-tab onclick="exit()"><i class="fa-solid fa-circle-xmark"></i> Exit</button></td>
      </tr>
    </table>
  </div>

  <!-- Bookmarks Container -->
  <div id="bookmarks-container"></div>
  <div class="context-menu" id="bookmark-context-menu" style="display:none;">
  <div class="menu-item" onclick="editBookmark(`${title}`, `${url}`)">Edit</div>
  <div class="menu-item" onclick="deleteBookmark(`${title}`, `${url}`)">Delete</div>
  </div>
  <!-- Iframes Container -->
  <div id="iframes-container"></div>
  <!--Sponsor-->
  <a class="powered-by-container" target="_blank" href="https://serverdeploy.pro">
    <img src="https://media.discordapp.net/attachments/1127291920285192223/1156579785900834896/IMG_6905.png?ex=654b89dd&is=653914dd&hm=ca122b80fc706c5692735d75ec7c843ad2c02e480fa51646d043ace2107d7bc2&=" alt="ServerDeploy Logo">
    <span class="powered-by-text">Powered by ServerDeploy</span>
  </a>

  <div class="desc left-margin">
    <p id="uv-error"></p>
    <pre id="uv-error-code"></pre>
  </div>

  <a class="powered-by-container" target="_blank" href="https://serverdeploy.pro">
    <img src="https://media.discordapp.net/attachments/1127291920285192223/1156579785900834896/IMG_6905.png?ex=654b89dd&is=653914dd&hm=ca122b80fc706c5692735d75ec7c843ad2c02e480fa51646d043ace2107d7bc2&=" alt="ServerDeploy Logo">
    <span class="powered-by-text">ServerDeploy</span>
  </a>
  <!-- Scripts -->
<<<<<<< HEAD
  <script src="/assets/search.js"></script>
=======
  <script>
    function updateSearchInput() {
        var storedSearchEngine = localStorage.getItem("searchEngineValue");
        var searchInput = document.getElementById("uv-search-engine");
        searchInput.value = storedSearchEngine || 'https://www.google.com/search?q=%s';
    }
    
    updateSearchInput();
    
    window.addEventListener("storage", function (e) {
        if (e.key === "searchEngineValue") {
            updateSearchInput();
        }
    });
    </script>    
  <script src="script.js" async></script>
  <script src="bookmarks.js" async></script>
>>>>>>> refs/remotes/origin/main
  <script src="/assets/themes.js"></script>
  <script src="/assets/options.js"></script>
  <script src="/assets/search.js"></script>
  <script src="/uv/uv.bundle.js"></script>
  <script src="/uv/uv.config.js"></script>
  <script src="/uv/uv.sw.js"></script>
  <script src="/uv/uv.config.js"></script>
<<<<<<< HEAD
  <script src="/assets/register-sw.js"></script>
  <script src="/assets/tabs.js" async></script>
  <script src="/assets/bookmarks.js" async></script>
  <script>
    function updateOmni() {
      tabs.updateOmni();
    }
    function setTab() {
      tabs.setTab();
    }
    function createTab(i) {
      tabs.createTab(i);
    }
    const ua = navigator.userAgent

    if(ua.includes("OPR") || ua.includes("Firefox")) {
      //Some features are unsupported (For example omnibox auto update omnibox)
      if(confirm("You are using an unsupported browser. \nSome features may not work, would you like to enable the experimental support features?")) {
        showExpirmentalFeatures();
        if(confirm("Would you like to remember this choice? You can always change this in settings.")) {
          localStorage.setItem("expirementalSupport", true)
        }
      } else {
        console.log("User doesn't want experimental support features")
      }
    } else {
      console.log("Using supported browser, continue")
    }
  </script>
  <script>
  window.addEventListener('load', function() {const loadingScreen = document.getElementById('loading-screen');loadingScreen.style.display = 'none';});
  document.getElementById("search-bar").addEventListener("focus", (e) => {
      console.log("Selecting");
      e.target.select();
  })
  onload = () => {        
    parent.updateOmni();
    parent.setTab();
  }
  </script>
=======
  <script src="/register-sw.js"></script>
  
  <script src="/assets/search.js"></script>
>>>>>>> refs/remotes/origin/main
</body>
</html>